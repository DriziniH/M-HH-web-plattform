<head lang="en">
    <meta charset="UTF-8">
    <title>Data Products</title>

    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- Bootstrap core CSS -->
    <link href="../static/bootstrap/css/bootstrap.min.css" rel="stylesheet">
</head>

{% extends "layout.html" %}
{% block title %}{% endblock %}
{% block content %}

<div class="d-flex" id="wrapper">

    <!-- Sidebar -->
    <div class="bg-light border-right" id="sidebar-wrapper">
        <div class="list-group list-group-flush">
            {% for dp in dps %}
            <a href="?dpid={{ dp['_id'] }}" class="list-group-item list-group-item-action bg-light">{{ dp["label"]
                }}</a>
            {% endfor %}
        </div>
    </div>
    <!-- /#sidebar-wrapper -->


    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">

            <div id="accordion">
                <div class="card">
                    <div class="card-header" id="headingDescription">
                        <h5 class="mb-0">
                            <button class="btn btn-link" data-toggle="collapse" data-target="#collapseDescription"
                                aria-expanded="true" aria-controls="collapseDescription">
                                Product Description
                            </button>
                        </h5>
                    </div>

                    <div id="collapseDescription" class="collapse show" aria-labelledby="headingDescription" data-parent="#accordion">
                        <div class="card-body">
                            <p><b>Region: {{ dp["region"] }}</b></p>
                            <p><b>GraphQL Endpoint: {{ dp["interfaces"]["graphql"] }}</b></p>
                            <p><b>Data Catalog: {{ dp["interfaces"]["catalog"] }}</b></p>
                            <p><b>Streams:</b> {{ dp["interfaces"].get("streams", "Not available") }}</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header" id="headingDashboards">
                        <h5 class="mb-0">
                            <button class="btn btn-link" data-toggle="collapse" data-target="#collapseDashboards"
                                aria-expanded="true" aria-controls="collapseDashboards">
                                Dashboards
                            </button>
                        </h5>
                    </div>

                    <div id="collapseDashboards" class="collapse show" aria-labelledby="headingDashboards" data-parent="#accordion">
                        <div class="card-body">
                            
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header" id="headingFiles">
                        <h5 class="mb-0">
                            <button class="btn btn-link" data-toggle="collapse" data-target="#collapseFiles"
                                aria-expanded="true" aria-controls="collapseFiles">
                                Files
                            </button>
                        </h5>
                    </div>

                    <div id="collapseFiles" class="collapse show" aria-labelledby="headingFiles" data-parent="#accordion">
                        <div class="card-body">

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-content-wrapper -->

    <script>
        (function (d) {

            stylizePreElements = function () {
                var preElements = document.getElementsByTagName("textarea");
                for (i = 0; i < preElements.length; ++i) {
                    var preElement = preElements[i];
                    preElement.className += "prettyprint";
                }
            };

            injectPrettifyScript = function () {
                var scriptElement = document.createElement('script');
                scriptElement.setAttribute("src", "https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js");
                document.head.appendChild(scriptElement);
            };

            stylizePreElements();
            injectPrettifyScript();

        })(document)
    </script>

</div>


{% endblock %}